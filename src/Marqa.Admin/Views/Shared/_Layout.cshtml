<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>@ViewData["Title"] - Taleem Admin Panel</title>

	<!-- Bootstrap 5 CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

	<!-- Custom CSS -->
	<link rel="stylesheet" href="~/css/dashboard.css" asp-append-version="true" />
</head>
<body>
	<div class="wrapper">
		<!-- Sidebar -->
		<nav id="sidebar" class="sidebar">
			<div class="sidebar-header">
				<h3><i class="fas fa-store"></i>Taleem</h3>
			</div>

			<ul class="list-unstyled components">
				<li class="@(ViewContext.RouteData.Values["Controller"]?.ToString() == "Dashboard" ? "active" : "")">
					<a asp-controller="Dashboard" asp-action="Index">
						<i class="fas fa-tachometer-alt"></i> Dashboard
					</a>
				</li>

				<li class="@(ViewContext.RouteData.Values["Controller"]?.ToString() == "Companies" ? "active" : "")">
					<a asp-controller="Companies" asp-action="Index">
						<i class="fas fa-building"></i> Companies
					</a>
				</li>

				<li class="@(ViewContext.RouteData.Values["Controller"]?.ToString() == "Permissions" ? "active" : "")">
					<a asp-controller="Permissions" asp-action="Index">
						<i class="fas fa-box"></i> Permissions
					</a>
				</li>

				<li class="@(ViewContext.RouteData.Values["Controller"]?.ToString() == "System Settings" ? "active" : "")">
					<a asp-controller="SystemSettings" asp-action="Index">
						<i class="fas fa-tags"></i> System Settings
					</a>
				</li>

				<li class="@(ViewContext.RouteData.Values["Controller"]?.ToString() == "Teachers" ? "active" : "")">
					<a asp-controller="Teachers" asp-action="Index">
						<i class="fas fa-code-branch"></i> Teachers
					</a>
				</li>

				<li class="@(ViewContext.RouteData.Values["Controller"]?.ToString() == "Users" ? "active" : "")">
					<a asp-controller="Users" asp-action="Index">
						<i class='fa fa-user'></i> Users
					</a>
				</li>

				<li class="@(ViewContext.RouteData.Values["Controller"]?.ToString() == "Employees" ? "active" : "")">
					<a asp-controller="Employees" asp-action="Index">
						<i class="fas fa-user-tie"></i> Employees
					</a>
				</li>

				<li class="@(ViewContext.RouteData.Values["Controller"]?.ToString() == "Students" ? "active" : "")">
					<a asp-controller="Students" asp-action="Index">
						<i class="fas fa-user-friends"></i> Students
					</a>
				</li>

				<li class="@(ViewContext.RouteData.Values["Controller"]?.ToString() == "EmployeeRoles" ? "active" : "")">
					<a asp-controller="EmployeeRoles" asp-action="Index">
						<i class="fas fa-truck"></i> EmployeeRoles
					</a>
				</li>

			</ul>

		</nav>

		<!-- Page Content -->
		<div id="content">
			<!-- Top Navbar -->
			<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
				<div class="container-fluid">
					<button type="button" id="sidebarCollapse" class="btn btn-primary">
						<i class="fas fa-bars"></i>
					</button>

					<div class="ms-auto d-flex align-items-center">
						<div class="dropdown">
							<a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">
								<div class="user-avatar me-2">
									<i class="fas fa-user-circle fa-2x text-primary"></i>
								</div>
								<span>@User.Identity?.Name</span>
							</a>
							<ul class="dropdown-menu dropdown-menu-end">
								<li><a class="dropdown-item" asp-controller="Auth" asp-action="Logout"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
							</ul>
						</div>
					</div>
				</div>
			</nav>

			<!-- Main Content -->
			<div class="container-fluid mt-4">
				@if (TempData["SuccessMessage"] != null)
				{
					<div class="alert alert-success alert-dismissible fade show" role="alert">
						<i class="fas fa-check-circle me-2"></i>@TempData["SuccessMessage"]
						<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
					</div>
				}

				@if (TempData["ErrorMessage"] != null)
				{
					<div class="alert alert-danger alert-dismissible fade show" role="alert">
						<i class="fas fa-exclamation-circle me-2"></i>@TempData["ErrorMessage"]
						<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
					</div>
				}

				@if (TempData["InfoMessage"] != null)
				{
					<div class="alert alert-info alert-dismissible fade show" role="alert">
						<i class="fas fa-info-circle me-2"></i>@TempData["InfoMessage"]
						<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
					</div>
				}

				@RenderBody()
			</div>
		</div>
	</div>

	<!-- Bootstrap 5 JS Bundle -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

	<!-- jQuery -->
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

	<!-- Custom JS -->
	<script src="~/js/dashboard.js" asp-append-version="true"></script>

	@await RenderSectionAsync("Scripts", required: false)
</body>
</html>

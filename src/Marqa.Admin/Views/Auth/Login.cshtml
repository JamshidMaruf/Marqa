@{
	Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Login - Nume Admin Panel</title>

	<!-- Bootstrap 5 CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

	<!-- css file link -->
	<link rel="stylesheet" href="~/css/auth.css" />
</head>
<body>
	<div class="login-container">
		<div class="login-card">
			<div class="login-header">
				<i class="fas fa-store"></i>
				<h2>Taleem</h2>
				<p>Admin Panel Login</p>
			</div>

			<div class="login-body">
				@if (TempData["ErrorMessage"] != null)
				{
					<div class="alert alert-danger" role="alert">
						<i class="fas fa-exclamation-circle"></i>@TempData["ErrorMessage"]
					</div>
				}

				@if (TempData["InfoMessage"] != null)
				{
					<div class="alert alert-info" role="alert">
						<i class="fas fa-info-circle"></i>@TempData["InfoMessage"]
					</div>
				}

				<form asp-controller="Auth" asp-action="Login" method="post">
					<div class="form-group">
						<div class="input-group">
							<i class="fas fa-phone"></i>
							<input type="tel"
								   class="form-control"
								   id="phone"
								   name="phone"
								   placeholder="Enter your phone number"
								   required
								   autocomplete="tel"
								   inputmode="numeric"
								   pattern="[0-9+]*">
						</div>
					</div>

					<div class="form-group">
						<div class="input-group">
							<i class="fas fa-lock"></i>
							<input type="password"
								   class="form-control"
								   id="password"
								   name="password"
								   placeholder="Enter your password"
								   required
								   autocomplete="current-password">
						</div>
					</div>

					<div class="form-check">
						<input class="form-check-input"
							   type="checkbox"
							   id="rememberMe"
							   name="rememberMe"
							   value="true">
						<label class="form-check-label" for="rememberMe">
							Remember me
						</label>
					</div>

					<button type="submit" class="btn btn-login">
						<i class="fas fa-sign-in-alt me-2"></i>Login
					</button>
				</form>
			</div>

			<div class="login-footer">
				<p>&copy; 2025 Taleem. All rights reserved.</p>
			</div>
		</div>
	</div>

	<!-- Bootstrap 5 JS Bundle -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

	<script>
		// Auto-hide alerts after 5 seconds
		setTimeout(function () {
			const alerts = document.querySelectorAll('.alert');
			alerts.forEach(alert => {
				alert.style.transition = 'opacity 0.5s';
				alert.style.opacity = '0';
				setTimeout(() => alert.remove(), 500);
			});
		}, 5000);

		// Phone input formatting
		const phoneInput = document.getElementById('phone');

		phoneInput.addEventListener('input', function(e) {
			let value = e.target.value;

			// Remove all non-numeric characters except +
			value = value.replace(/[^0-9+]/g, '');

			// If value doesn't start with +, add it
			if (value && !value.startsWith('+')) {
				value = '+' + value;
			}

			// Remove multiple + signs
			if (value.startsWith('++')) {
				value = '+' + value.replace(/\+/g, '');
			}

			e.target.value = value;
		});

		// Form submission - remove + before sending to server
		document.querySelector('form').addEventListener('submit', function(e) {
			let phoneValue = phoneInput.value;
			// Remove + before sending to server
			phoneValue = phoneValue.replace(/\+/g, '');
			phoneInput.value = phoneValue;
		});
	</script>
</body>
</html>

